local M = {}

function M.lsp_setup()
	local nvim_lsp = require('lspconfig')
	local on_attach = require('lsp.on_attach')

	nvim_lsp.rust_analyzer.setup({
		on_attach = on_attach,
		settings = {
			['rust-analyzer'] = {
				assist = {
					importGranularity = 'module',
					importPrefix = 'by_self',
				},
				cargo = {
					loadOutDirsFromCheck = true,
				},
				procMacro = {
					enable = true,
				},
			},
		},
	})
end

return M
